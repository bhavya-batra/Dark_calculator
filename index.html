<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta name="viewport" content="width=device-width" charset="utf-8">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body data-theme="dark">
    <div class="main">
      <div class="calculator">
        <div class="header">
          <div class="switchbox">
            <input type="checkbox" name="" id="switch" class="switch" value="switch">
           
          </div>
        </div>
        <div class="input">
          <input type="text" name="" id="display" disabled>
          <input type="button" value="c" class="cancle_btn">

        </div>
        <div class="row">
          <input type="button" value="7">
          <input type="button" value="8">
          <input type="button" value="9">
          <input type="button" value="+">
        </div>
        <div class="row">
          <input type="button" value="4">
          <input type="button" value="5">
          <input type="button" value="6">
          <input type="button" value="-">
        </div>
        <div class="row">
          <input type="button" value="1">
          <input type="button" value="2">
          <input type="button" value="3">
          <input type="button" value="*">
        </div>
        <div class="row">
          <input style="border-radius: 0 0 0 10px;" type="button" value=".">
          <input type="button" value="0">
          <input style="background: #542e71; color: white;" type="button" value="=">
          <input style="border-radius: 0 0 10px 0;" type="button" value="/">
        </div>
      </div>
    </div>

    <script>
      const switchbtn = document.getElementById("switch");
      const display = document.getElementById("display");
      const input = document.querySelectorAll("input");
      let value ="";
      switchbtn.addEventListener("click", ()=>{
       if(switchbtn.checked == true){
         document.body.setAttribute("data-theme", "dark");
       }else{
        document.body.setAttribute("data-theme", "");
       }
      });
      input.forEach((e)=>{
        e.addEventListener("click", (event)=>{
          if(event.target.value == "="){
           if(value.length !=0){
           let newval = eval(value);
            value = newval;
            display.value = value;
           }
          }else if(event.target.value == 'c'){
            value = "";
            display.value = value;
          }else if (event.target.value == "switch"){
          }else{
            value += event.target.value;
            display.value = value;
          }

          if(!event.target.classList.contains("switch")){
            event.target.classList.add("active");
            setTimeout(()=>{
              event.target.classList.remove("active");
            },400);
          }
        });
      });
    </script>

  </body>
</html>
